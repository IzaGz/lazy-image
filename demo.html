<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">

  <title>lazy-image demo</title>
  <script src="lazy-image.js"></script>
  <link rel="stylesheet" href="demo-styles.css">

  <style>
    lazy-image {
      display: inline-block;
      padding: 10px;
    }
    lazy-image.inactive {
      width: 30%;
      background-color: #F5F5F5;
      text-align: center;
    }
  </style>
</head>
<body>

  <h1>&lt;lazy-image&gt;</h1>

  <h2>ðŸ“– Docs</h2>
  <section>
    <code>&lt;lazy-image&gt;</code> is a custom element that contains an image that has the
    option to be loaded only on-demand, for performance reasons. If a <code>&lt;lazy-image&gt;</code>
    is inactive, then its source is not loaded (the XHR won't be made until the
    <code>active</code> attribute is set on the element).
  </section>

  <section>
    <code>&lt;lazy-image&gt;</code> has 3 attributes:
    <ul>
      <li><b><code>src</code></b>, the image source (like you would use with a <code>&lt;img&gt;</code>)</li>
      <li><b><code>alt</code></b>, the alternate text for the image the image source (like you would use with a <code>&lt;img&gt;</code>)</li></li>
      <li><b><code>active</code></b>, whether the image should be loaded or not</li>
    </ul>
  </section>

  <h2>ðŸŽ¬ On-demand loading</h2>
  <section>
    For on-demand loading, you must set the <code>active</code> attribute to <code>true</code>.
    In the example below, the images will only load when clicked (you can check the network tab in
    your favourite developer tools to see that there's no initial request for these files).
    This happens because they each have a <code>click</code> event listener, that
    sets the <code>&lt;lazy-image&gt;</code>'s <code>active</code> attribute to <code>true</code>:<br><br>

    <b>Code</b>
    <pre><code>
  &lt;lazy-image src="..." alt="..." id="i"&gt;&lt;/lazy-image&gt;

  &lt;script&gt;
    i.addEventListener('click', function() {
      if (!this.active)
        this.active = true;
  });
  &lt;/script&gt;
    </pre></code>

    <b>Demo</b><br>

    <lazy-image class="inactive" src="https://unsplash.it/300/200?image=1084" alt="sample 1"></lazy-image>
    <lazy-image class="inactive" src="https://unsplash.it/300/200?image=1080" alt="sample 2"></lazy-image>
    <lazy-image class="inactive" src="https://unsplash.it/300/200?image=1059" alt="sample 3"></lazy-image>

    <script>
      var images = document.querySelectorAll('lazy-image.inactive');
      images.forEach(function(image) {
        image.addEventListener('click', function() {
          if (!this.active)
            this.active = true;
        });
      });
    </script>
  </section>

  <h2>ðŸŽ¬ Always load</h2>
  <section>
    If you want an image to always load, you can just set the <code>active</code>
    property to <code>true</code> by default:<br><br>

    <b>Code</b><br>
    <pre><code>&lt;lazy-image src="..." alt="..." active&gt;&lt;/lazy-image&gt;</pre></code>

    <b>Demo</b><br>
    <div style="text-align:center">
      <lazy-image src="https://unsplash.it/300/200?image=1062" alt="random image" active></lazy-image>
    </div>
  </section>

  <h2>ðŸ˜˜, monica</h2>
</body>
</html>
